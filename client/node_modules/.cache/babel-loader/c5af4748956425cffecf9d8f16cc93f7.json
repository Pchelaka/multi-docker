{"ast":null,"code":"import _regeneratorRuntime from\"/Users/d.ozeryany/workspace/complex/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/d.ozeryany/workspace/complex/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/d.ozeryany/workspace/complex/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/d.ozeryany/workspace/complex/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/d.ozeryany/workspace/complex/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/d.ozeryany/workspace/complex/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var Fib=/*#__PURE__*/function(_Component){_inherits(Fib,_Component);var _super=_createSuper(Fib);function Fib(){var _this;_classCallCheck(this,Fib);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={seenIndexes:[],values:{},index:''};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return axios.post('/api/values',{index:_this.state.index});case 3:_this.setState({index:''});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(Fib,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchValues();this.fetchIndexes();}},{key:\"fetchValues\",value:function(){var _fetchValues=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var values;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/values/current');case 2:values=_context2.sent;this.setState({values:values.data});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function fetchValues(){return _fetchValues.apply(this,arguments);}return fetchValues;}()},{key:\"fetchIndexes\",value:function(){var _fetchIndexes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var seenIndexes;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get('/api/values/all');case 2:seenIndexes=_context3.sent;this.setState({seenIndexes:seenIndexes.data});case 4:case\"end\":return _context3.stop();}}},_callee3,this);}));function fetchIndexes(){return _fetchIndexes.apply(this,arguments);}return fetchIndexes;}()},{key:\"renderSeenIndexes\",value:function renderSeenIndexes(){return this.state.seenIndexes.map(function(_ref2){var number=_ref2.number;return number;}).join(', ');}},{key:\"renderValues\",value:function renderValues(){var entries=[];for(var key in this.state.values){entries.push(/*#__PURE__*/React.createElement(\"div\",{key:key},\"For index \",key,\" I calculated \",this.state.values[key]));}return entries;}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",null,\"Enter your index:\"),/*#__PURE__*/React.createElement(\"input\",{value:this.state.index,onChange:function onChange(event){return _this2.setState({index:event.target.value});}}),/*#__PURE__*/React.createElement(\"button\",null,\"Submit\")),/*#__PURE__*/React.createElement(\"h3\",null,\"Indexes I have seen:\"),this.renderSeenIndexes(),/*#__PURE__*/React.createElement(\"h3\",null,\"Calculated Values:\"),this.renderValues());}}]);return Fib;}(Component);export default Fib;","map":{"version":3,"sources":["/Users/d.ozeryany/workspace/complex/client/src/Fib.js"],"names":["React","Component","axios","Fib","state","seenIndexes","values","index","handleSubmit","event","preventDefault","post","setState","fetchValues","fetchIndexes","get","data","map","number","join","entries","key","push","target","value","renderSeenIndexes","renderValues"],"mappings":"m7BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,G,+SACJC,K,CAAQ,CACNC,WAAW,CAAE,EADP,CAENC,MAAM,CAAE,EAFF,CAGNC,KAAK,CAAE,EAHD,C,OAuBRC,Y,0FAAe,iBAAMC,KAAN,kHACbA,KAAK,CAACC,cAAN,GADa,sBAGPR,CAAAA,KAAK,CAACS,IAAN,CAAW,aAAX,CAA0B,CAC9BJ,KAAK,CAAE,MAAKH,KAAL,CAAWG,KADY,CAA1B,CAHO,QAMb,MAAKK,QAAL,CAAc,CAAEL,KAAK,CAAE,EAAT,CAAd,EANa,sD,0JAjBK,CAClB,KAAKM,WAAL,GACA,KAAKC,YAAL,GACD,C,yRAGsBZ,CAAAA,KAAK,CAACa,GAAN,CAAU,qBAAV,C,QAAfT,M,gBACN,KAAKM,QAAL,CAAc,CAAEN,MAAM,CAAEA,MAAM,CAACU,IAAjB,CAAd,E,wbAI0Bd,CAAAA,KAAK,CAACa,GAAN,CAAU,iBAAV,C,QAApBV,W,gBACN,KAAKO,QAAL,CAAc,CACZP,WAAW,CAAEA,WAAW,CAACW,IADb,CAAd,E,wNAckB,CAClB,MAAO,MAAKZ,KAAL,CAAWC,WAAX,CAAuBY,GAAvB,CAA2B,mBAAGC,CAAAA,MAAH,OAAGA,MAAH,OAAgBA,CAAAA,MAAhB,EAA3B,EAAmDC,IAAnD,CAAwD,IAAxD,CAAP,CACD,C,mDAEc,CACb,GAAMC,CAAAA,OAAO,CAAG,EAAhB,CAEA,IAAK,GAAIC,CAAAA,GAAT,GAAgB,MAAKjB,KAAL,CAAWE,MAA3B,CAAmC,CACjCc,OAAO,CAACE,IAAR,cACE,2BAAK,GAAG,CAAED,GAAV,eACaA,GADb,kBACgC,KAAKjB,KAAL,CAAWE,MAAX,CAAkBe,GAAlB,CADhC,CADF,EAKD,CAED,MAAOD,CAAAA,OAAP,CACD,C,uCAEQ,iBACP,mBACE,4CACE,4BAAM,QAAQ,CAAE,KAAKZ,YAArB,eACE,qDADF,cAEE,6BACE,KAAK,CAAE,KAAKJ,KAAL,CAAWG,KADpB,CAEE,QAAQ,CAAE,kBAAAE,KAAK,QAAI,CAAA,MAAI,CAACG,QAAL,CAAc,CAAEL,KAAK,CAAEE,KAAK,CAACc,MAAN,CAAaC,KAAtB,CAAd,CAAJ,EAFjB,EAFF,cAME,2CANF,CADF,cAUE,qDAVF,CAWG,KAAKC,iBAAL,EAXH,cAaE,mDAbF,CAcG,KAAKC,YAAL,EAdH,CADF,CAkBD,C,iBAtEezB,S,EAyElB,cAAeE,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Fib extends Component {\n  state = {\n    seenIndexes: [],\n    values: {},\n    index: ''\n  };\n\n  componentDidMount() {\n    this.fetchValues();\n    this.fetchIndexes();\n  }\n\n  async fetchValues() {\n    const values = await axios.get('/api/values/current');\n    this.setState({ values: values.data });\n  }\n\n  async fetchIndexes() {\n    const seenIndexes = await axios.get('/api/values/all');\n    this.setState({\n      seenIndexes: seenIndexes.data\n    });\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    await axios.post('/api/values', {\n      index: this.state.index\n    });\n    this.setState({ index: '' });\n  };\n\n  renderSeenIndexes() {\n    return this.state.seenIndexes.map(({ number }) => number).join(', ');\n  }\n\n  renderValues() {\n    const entries = [];\n\n    for (let key in this.state.values) {\n      entries.push(\n        <div key={key}>\n          For index {key} I calculated {this.state.values[key]}\n        </div>\n      );\n    }\n\n    return entries;\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <label>Enter your index:</label>\n          <input\n            value={this.state.index}\n            onChange={event => this.setState({ index: event.target.value })}\n          />\n          <button>Submit</button>\n        </form>\n\n        <h3>Indexes I have seen:</h3>\n        {this.renderSeenIndexes()}\n\n        <h3>Calculated Values:</h3>\n        {this.renderValues()}\n      </div>\n    );\n  }\n}\n\nexport default Fib;\n"]},"metadata":{},"sourceType":"module"}